{
  "index_patterns": ["test*"],
  "settings": {
    "number_of_shards": 1,
    "analysis":{
         "analyzer":{
            "process_text":{
               "type":"custom",
               "tokenizer":"standard",
               "filter":[
                  "lowercase",
                  "english_stop"
               ]
            },
            "process_text_stem":{
               "type":"custom",
               "tokenizer":"standard",
               "filter":[
                  "lowercase",
                  "english_stop",
                  "porter_stem"
               ]
            },
            "search_text":{
               "type":"custom",
               "tokenizer":"standard",
               "filter":[
                  "lowercase",
                  "english_stop"
               ]
            },
            "search_text_stem":{
               "type":"custom",
               "tokenizer":"standard",
               "filter":[
                  "lowercase",
                  "english_stop",
                  "porter_stem"
               ]
            }
         },
         "filter":{
            "english_stop":{
               "type":"stop",
               "stopwords":"_english_"
            }
         }
      }
  },
  "mappings": {
    "_doc": {
      "_source": {
        "enabled": false
      },
      "properties": {
      	"text": {
      	  "type": "text",
      	  "analyzer": "process_text_stem",
      	  "search_analyzer": "search_text_stem"
      	},
        "name": {
          "type": "text",
          "analyzer": "process_text",
          "search_analyzer": "search_text"
        },
        "description": {
          "type": "text",
          "analyzer": "process_text",
          "search_analyzer": "search_text"
        },
        "created": {
          "type": "date",
          "format": "epoch_millis"
        },
        "start_time": {
          "type": "date",
          "format": "epoch_millis"
        },
        "end_time": {
          "type": "date",
          "format": "epoch_millis"
        },
        "duration": { "type": "long" },
        "price": { "type": "float" },
        "is_free": { "type": "boolean" },
        "category":{ "type": "keyword" },
        "meta_category":{ "type": "keyword"	},
        "venue":{
        	"properties": {
            "zip":  { "type": "integer" },
            "name": { "type": "keyword" }
          }
        }
      }
    }
  }
}
